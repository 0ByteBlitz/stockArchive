{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\user\\\\Desktop\\\\stock app\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\user\\\\Desktop\\\\stock app\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\user\\\\Desktop\\\\stock app\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\user\\\\Desktop\\\\stock app\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\user\\\\Desktop\\\\stock app\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\stock app\\\\frontend\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport ReactTable from 'react-table';\nimport \"react-table/react-table.css\";\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      data: [],\n      id: 0,\n      message: null,\n      intervalIsSet: false,\n      idToDelete: null,\n      idToUpdate: null,\n      objectToUpdate: null\n    };\n\n    _this.getDataFromDb = function () {\n      fetch(\"/api/stocks\").then(function (data) {\n        return data.json();\n      }).then(function (res) {\n        return _this.setState({\n          data: res.data\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    //when component first mounts, it fetchs existing data in db\n    value: function componentDidMount() {\n      this.getDataFromDb();\n\n      if (!this.state.intervalIsSet) {\n        var interval = setInterval(this.getDataFromDb, 1000);\n        this.setState({\n          intervalIsSet: interval\n        });\n      }\n    } //kill process\n\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.state.intervalIsSet) {\n        clearInterval(this.state.intervalIsSet);\n        this.setState({\n          intervalIsSet: null\n        });\n      }\n    } //fetch data from database\n\n  }, {\n    key: \"render\",\n    //fetch 10 high performing stocks from database\n    value: function render() {\n      var data = this.state.data;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(ReactTable, {\n        data: data,\n        columns: [{\n          columns: [{\n            Header: \"Symbol\",\n            accessor: \"symbol\"\n          }]\n        }, {\n          Header: \"Stock Info\",\n          columns: [{\n            Header: \"Open\",\n            accessor: \"open\"\n          }, {\n            Header: \"Date\",\n            accessor: \"date\"\n          }, {\n            Header: \"Close\",\n            accessor: \"close\"\n          }, {\n            Header: \"Low\",\n            accessor: \"low\"\n          }, {\n            Header: \"High\",\n            accessor: \"high\"\n          }, {\n            Header: \"Volume\",\n            accessor: \"volume\"\n          }]\n        }],\n        defaultSorted: [{\n          id: \"high\",\n          desc: true\n        }],\n        defaultPageSize: 10,\n        className: \"-striped -highlight\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["C:\\Users\\user\\Desktop\\stock app\\frontend\\src\\App.js"],"names":["React","Component","axios","ReactTable","App","state","data","id","message","intervalIsSet","idToDelete","idToUpdate","objectToUpdate","getDataFromDb","fetch","then","json","res","setState","interval","setInterval","clearInterval","columns","Header","accessor","desc"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,aAAvB;AACA,OAAO,6BAAP;;IAGMC,G;;;;;;;;;;;;;;;;;UAEJC,K,GAAQ;AACNC,MAAAA,IAAI,EAAE,EADA;AAENC,MAAAA,EAAE,EAAE,CAFE;AAGNC,MAAAA,OAAO,EAAE,IAHH;AAINC,MAAAA,aAAa,EAAE,KAJT;AAKNC,MAAAA,UAAU,EAAE,IALN;AAMNC,MAAAA,UAAU,EAAE,IANN;AAONC,MAAAA,cAAc,EAAE;AAPV,K;;UA+BRC,a,GAAgB,YAAM;AACpBC,MAAAA,KAAK,CAAC,aAAD,CAAL,CACGC,IADH,CACQ,UAAAT,IAAI;AAAA,eAAIA,IAAI,CAACU,IAAL,EAAJ;AAAA,OADZ,EAEGD,IAFH,CAEQ,UAAAE,GAAG;AAAA,eAAG,MAAKC,QAAL,CAAc;AAAEZ,UAAAA,IAAI,EAAEW,GAAG,CAACX;AAAZ,SAAd,CAAH;AAAA,OAFX;AAGD,K;;;;;;;AAzBD;wCACoB;AAClB,WAAKO,aAAL;;AACA,UAAI,CAAC,KAAKR,KAAL,CAAWI,aAAhB,EAA+B;AAC7B,YAAIU,QAAQ,GAAGC,WAAW,CAAC,KAAKP,aAAN,EAAqB,IAArB,CAA1B;AACA,aAAKK,QAAL,CAAc;AACZT,UAAAA,aAAa,EAAEU;AADH,SAAd;AAGD;AACF,K,CACH;;;;2CACyB;AACrB,UAAI,KAAKd,KAAL,CAAWI,aAAf,EAA8B;AAC5BY,QAAAA,aAAa,CAAC,KAAKhB,KAAL,CAAWI,aAAZ,CAAb;AACA,aAAKS,QAAL,CAAc;AACZT,UAAAA,aAAa,EAAE;AADH,SAAd;AAGD;AACF,K,CAED;;;;AAOA;6BAGS;AAAA,UACCH,IADD,GACU,KAAKD,KADf,CACCC,IADD;AAEP,aACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,oBAAC,UAAD;AACA,QAAA,IAAI,EACFA,IAFF;AAIA,QAAA,OAAO,EACL,CAAC;AACGgB,UAAAA,OAAO,EAAE,CAAC;AACNC,YAAAA,MAAM,EAAE,QADF;AAENC,YAAAA,QAAQ,EAAE;AAFJ,WAAD;AADZ,SAAD,EAME;AACED,UAAAA,MAAM,EAAE,YADV;AAEED,UAAAA,OAAO,EAAE,CAAC;AACNC,YAAAA,MAAM,EAAE,MADF;AAENC,YAAAA,QAAQ,EAAE;AAFJ,WAAD,EAIP;AACED,YAAAA,MAAM,EAAE,MADV;AAEEC,YAAAA,QAAQ,EAAE;AAFZ,WAJO,EAQP;AACED,YAAAA,MAAM,EAAE,OADV;AAEEC,YAAAA,QAAQ,EAAE;AAFZ,WARO,EAYP;AACED,YAAAA,MAAM,EAAE,KADV;AAEEC,YAAAA,QAAQ,EAAE;AAFZ,WAZO,EAgBP;AACED,YAAAA,MAAM,EAAE,MADV;AAEEC,YAAAA,QAAQ,EAAE;AAFZ,WAhBO,EAoBP;AACED,YAAAA,MAAM,EAAE,QADV;AAEEC,YAAAA,QAAQ,EAAE;AAFZ,WApBO;AAFX,SANF,CALF;AAyCA,QAAA,aAAa,EACX,CAAC;AACCjB,UAAAA,EAAE,EAAE,MADL;AAECkB,UAAAA,IAAI,EAAE;AAFP,SAAD,CA1CF;AA+CA,QAAA,eAAe,EACb,EAhDF;AAkDA,QAAA,SAAS,EAAG,qBAlDZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADH,CADD;AAuDD;;;;EAnGexB,S;;AAsGlB,eAAeG,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from \"axios\";\nimport ReactTable from 'react-table';\nimport \"react-table/react-table.css\";\n\n\nclass App extends Component {\n  //state initialization\n  state = {\n    data: [],\n    id: 0,\n    message: null,\n    intervalIsSet: false,\n    idToDelete: null,\n    idToUpdate: null,\n    objectToUpdate: null\n  };\n\n  //when component first mounts, it fetchs existing data in db\n  componentDidMount() {\n    this.getDataFromDb();\n    if (!this.state.intervalIsSet) {\n      let interval = setInterval(this.getDataFromDb, 1000);\n      this.setState({\n        intervalIsSet: interval\n      });\n    }\n  }\n//kill process\n  componentWillUnmount() {\n    if (this.state.intervalIsSet) {\n      clearInterval(this.state.intervalIsSet);\n      this.setState({\n        intervalIsSet: null\n      });\n    }\n  }\n\n  //fetch data from database\n  getDataFromDb = () => {\n    fetch(\"/api/stocks\")\n      .then(data => data.json())\n      .then(res=> this.setState({ data: res.data}));\n  };\n\n  //fetch 10 high performing stocks from database\n  \n\n  render() {\n    const { data } = this.state;\n    return (\n     <div>\n        <ReactTable\n        data = {\n          data\n        }\n        columns = {\n          [{\n              columns: [{\n                  Header: \"Symbol\",\n                  accessor: \"symbol\"\n                }]\n            },\n            {\n              Header: \"Stock Info\",\n              columns: [{\n                  Header: \"Open\",\n                  accessor: \"open\"\n                },\n                {\n                  Header: \"Date\",\n                  accessor: \"date\"\n                },\n                {\n                  Header: \"Close\",\n                  accessor: \"close\"\n                },\n                {\n                  Header: \"Low\",\n                  accessor: \"low\"\n                },\n                {\n                  Header: \"High\",\n                  accessor: \"high\"\n                },\n                {\n                  Header: \"Volume\",\n                  accessor: \"volume\"\n                }\n              ]\n            }\n          ]\n        }\n        defaultSorted = {\n          [{\n            id: \"high\",\n            desc: true\n          }]\n        }\n        defaultPageSize = {\n          10\n        }\n        className = \"-striped -highlight\" />\n     </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}